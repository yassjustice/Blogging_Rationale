<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Blog</title>
    <link rel="stylesheet" href="/public/css/edit.css">
</head>
<body>
    <div class="container">
        <form class="modalForm" action="/editblog/<%= blog._id %>" method="post" enctype="multipart/form-data">
            <div class="modal">
                <div class="modal__header">
                    <span class="modal__title">Edit Blog</span>
                    <a href="/dashboard" class="button button--icon">
                        <svg width="24" height="24" viewBox="0 0 24 24">
                            <path fill="none" d="M0 0h24v24H0V0z"></path>
                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path>
                        </svg>
                    </a>
                </div>

                <div class="modal__body">
                    <div class="input">
                        <label class="input__label">Blog Title</label>
                        <input class="input__field" type="text" name="title" value="<%= blog.title %>"> 
                    </div>
                    
                    <div class="input">
                        <label class="input__label">Description</label>
                        <textarea class="input__field input__field--textarea" name="desc"><%= blog.desc %></textarea>
                    </div>

                    <!-- Existing Image Preview -->
                    <% if (blog.image) { %>
                        <div class="current-image">
                            <img src="<%= blog.image %>" alt="Current Blog Image">
                        </div>
                    <% } %>

                    <!-- File Upload -->
                    <div class="containerim">
                        <div class="header">
                            <svg width="24" height="24">
                                <path d="M7 10V9C7 6.23858 9.23858 4 12 4C14.7614 4 17 6.23858 17 9V10C19.2091 10 21 11.7909 21 14C21 15.4806 20.1956 16.8084 19 17.5M7 10C4.79086 10 3 11.7909 3 14C3 15.4806 3.8044 16.8084 5 17.5"></path>
                            </svg>
                            <p>Upload a new image (optional)</p>
                        </div>
                        <input type="file" name="image">
                    </div>
                </div>

                <div class="modal__footer">
                    <button class="button button--primary" type="submit">Save Changes</button>
                    <a href="/delete/<%= blog._id %>" class="button button--danger">Delete</a>
                </div>
            </div>
        </form>
    </div>
</body>
</html>
